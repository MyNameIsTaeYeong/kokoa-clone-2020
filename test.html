#include
<stdio.h>
  #include
  <stdlib.h>
    #include
    <string.h>
      typedef struct _Student{ char last_name[20]; int age, math, eng, hsty;
      struct _Student *next; } Student; int check(int, int, int, int); void
      go_to_sort(int, Student*, int); void swap(Student *, Student *); void
      print_out(Student *); int main() { Student *start = NULL; Student *cur =
      NULL; FILE *fp = NULL; char *file_name = malloc(sizeof(char)*20); int
      menu, input_check = 0; int stu_count=0; int quit = 0;
      printf("======================\n"); printf("1)Insert\n");
      printf("2)Sort\n"); printf("Quit\n"); printf("Select a menu : ");
      scanf("%d", &menu); while(!quit){ switch (menu) { case 1: // 삽입
      printf("file name : "); scanf("%s", file_name); fp = fopen(file_name,
      "r"); while (!feof(fp)) { if(cur == NULL){ cur = malloc(sizeof(Student));
      stu_count++; start = cur; fscanf(fp,"%s %d %d %d %d ", cur->last_name,
      &cur->age, &cur->math, &cur->eng, &cur->hsty); input_check =
      check(cur->age, cur->math, cur->eng, cur->hsty); if(input_check) break; }
      else { Student *temp = malloc(sizeof(Student)); stu_count++; temp->next =
      NULL; cur->next = temp; fscanf(fp,"%s %d %d %d %d ", cur->next->last_name,
      &cur->next->age, &cur->next->math, &cur->next->eng, &cur->next->hsty);
      input_check = check(cur->next->age, cur->next->math, cur->next->eng,
      cur->next->hsty); if(input_check) break; cur = cur -> next; } }
      if(input_check) break; fclose(fp); print_out(start); break; case 2: //
      정렬 printf("1) Name\n"); printf("2) Age\n"); printf("3) Math\n");
      printf("4) English\n"); printf("5) History\n"); printf("Choose the field
      to sort by : "); int how_to_sort = 0; scanf("%d", &how_to_sort);
      go_to_sort(how_to_sort, start, stu_count); print_out(start); break; case
      3: // 종료 break; default: break; } } return 0; } int check(int age, int
      math, int eng, int hsty){ if(age <= 0){ printf("The age cannot be a
      negative number. Program terminates.\n"); return 1; }else if( math<0 ||
      math>100 || eng<0 || eng>100 || hsty<0 || hsty>100){ printf("The grage can
      be a [0, 100] number. Program terminates.\n"); return 1; }else return 0; }
      void go_to_sort(int how_to_sort, Student *start, int stu_count){
      for(Student *cur_i = start ; cur_i->next != NULL ; cur_i = cur_i->next){
      for(Student *cur_j = cur_i->next ; cur_j->next != NULL; cur_j =
      cur_j->next){ switch (how_to_sort) { case 1: if(cur_i->last_name[0] >
      cur_j->last_name[0]) swap(cur_i, cur_j); break; case 2: if(cur_i->age >
      cur_j->age) swap(cur_i, cur_j); break; case 3: if(cur_i->math >
      cur_j->math) swap(cur_i, cur_j); break; case 4: if(cur_i->eng >
      cur_j->eng) swap(cur_i, cur_j); break; case 5: if(cur_i->hsty >
      cur_j->hsty) swap(cur_i, cur_j); break; default: break; } } } } void
      swap(Student *i, Student *j){ Student *temp = malloc(sizeof(Student));
      strcpy(temp->last_name, i->last_name); temp->age = i->age; temp->eng =
      i->eng; temp->math = i->math; temp->hsty = i->hsty; strcpy(i->last_name,
      j->last_name); i->age = j->age; i->eng = j->eng; i->math = j->math;
      i->hsty = j->hsty; strcpy(j->last_name, temp->last_name); j->age =
      temp->age; j->eng = temp->eng; j->math = temp->math; j->hsty = temp->hsty;
      } void print_out(Student *cur){ int no = 1; printf("No Name Age Math
      English History\n"); while (cur != NULL) { printf("%d %s %d %d %d %d\n",
      no++, cur->last_name, cur->age, cur->math, cur->eng, cur->hsty); cur =
      cur->next; } }
    </string.h></stdlib.h
  ></stdio.h
>
